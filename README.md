# LLM을 활용한 화학사고 위험요소 키워드 분석

### 📌 공모전 정보
[공모전 대회](https://konetic.or.kr/ecothon/main.do)

**대회명 :** 2025 환경 데이터 활용 및 분석 공모전

**주최 기관 :** 환경부

**분석 기간 :** 2025.04.07 - 2025.05.19

---
### 📌 프로젝트 목적
- 화학물질 안전관리 개선을 위해 실제 화학사고 텍스트와 사고이력을 수집, 분석하여 인명피해 발생 요인을 예측 
- 구체적 맥락을 파악하기 위해 생성형 AI와 텍스트 분석 기법을 결합하여 주요 키워드를 도출 
- 사고 예방 조치를 강화할 수 있는 정책적 방안을 제시

---
### 분석 과정
**(1) 설명변수에 대한 다변량 분석**
- **문제 정의 :** 사고내용관련 단어 행렬에서 단어 간 공동 출현 패턴을 기반으로 의미적 유사성 시
각적으로 파악

- **모델**

  **1. 거리 척도:** 자카드(Jaccard) 거리: 이진 등장 여부만을 고려해 공동 등장 비율을 정량화.

  **2. 차원 축소:** t-SNE (t-Distributed Stochastic Neighbor Embedding)

- **모델 선정 과정:** 단어 벡터가이진 및 연속 가중치가 없는 상황에서 자카드 거리가 ‘공동·개별
등장’ 정보를 가장 직관적으로 포착할 것으로 판단

- **평가지표:** 비지도-시각화 목적이므로 정량적 성능 지표 대신 시각적 클러스터 구분, 실무 도메
인 용어군 일관성 등 정성적 평가

**(2) 설명변수와 반응변수간의 관계 파악**

- **문제 정의:** 텍스트(사고내용)를 기반으로 인명피해(이진분류)를 예측

- **모델:** CountVectorizer + LightGBM 파이프라인, 하이퍼파라미터 탐색(RandomizedSearchCV)

- **모델 선정 과정**

1 전처리 과정을 거친 데이터프레임에서 설명변수는 희소행렬의 형태를 띄는 이진매트릭스, 반응변수는 이진값을 가지는 변수이므로 이들의 관계를 잘 파악할 수 있는 부스팅 계열의 머신러닝 모델을 선정

2 그 중 평가 지표 F1-score의 값이 가장 높게 나타난 LightGBM을 기준으로 하이퍼 파라 미터를 조정하며 고도화하는 과정을 거침

- **평가지표:** 정확도(Accuracy), 재현율(Recall), 정밀도(Precision), F1-score(최적화 지표)

--- 
### 구현
**(1) 키워드 간 연관도 분석:** 

가장 먼저, 키워드 간 연관도를 알아보기 위해 자카드 거리를 활용한
t-SNE를 통해 키워드들을 하나의 플롯에 시각화해 나타냄

**(2) 인명피해 연관 키워드 추출 후 시각화**
<img width="831" alt="image" src="https://github.com/user-attachments/assets/4d797109-c961-4d69-b444-9e5bb6ef4da8" />

인명피해 예측 모델링을 수행한 결과(F1-score 기준 0.6737 예측성능)로써, 인명피해에 영향을 크게 미친 주요 키워드를 추출하고 이를 시각화하는 과정을 거친다. 예측 모델링에서 SHAP 지수를 기준으로 인명피해를 일으킬 것으로 예측하는 데 많은 기여를 한 변수 즉, 키워드를 추출한다. 이를 활용해 해당 키워드에 포함된 화학물질명이나 표현이 사업장 설명에 나타난 경우, 사고 발생 시 인 명피해로 이어질 가능성이 높다고 판단할 수 있으므로, 보다 높은 수준의 주의가 필요하다고 볼 수 있다.

실제 위 결과 이미지를 참고하면 고차원 임베딩에서도 인명피해에 영향을 미치는 중요 키워드(빨 간색)들이 다른 단어들과의 거리가 비교적 고르게되어, 2D 시각화에서 중앙부에 배치된 것을 확인 할 수 있다. 이를 통해 실제로 여러 종류의 사고에서 핵심 위험 요소로 작동한다는 점을 시사함을 알 수 있다.

**(3) 키워드 클러스터링**

<img width="817" alt="image" src="https://github.com/user-attachments/assets/1f18c49c-0339-4759-9660-c2e0b0bf90d4" />

199개로 필터링 된 사고 관련 키워드를 t-SNE를 통해 2차원에 projection 시킨 뒤, k-means clustering을 통해 시각화하고 그룹마다의 특징을 묶어 준 시각화한 결과이다. 이 자료를 통해 국내 발생한 사고에 대한 키워드를 확인할 수 있으며 각 키워드가 어떤 화학사고와 관련있는지 파악할 수 있다.

**(4) 계절별 키워드 양상**

<img width="793" alt="image" src="https://github.com/user-attachments/assets/0e9e55f8-a6c2-446a-8790-0eced98647d6" />

또한, 인명피해와 관련된 주요 키워드가 계절별로 나타나는 양상을 t-SNE 플랏에 나타내, 특정 시기마다 주의가 필요한 사고 유형과 위험 요인을 파악할 수 있도록 했다.

**(5) 최종 구현 예시**

<img width="781" alt="image" src="https://github.com/user-attachments/assets/40bad089-05dd-4a9e-a461-7f6d3450615c" />

국내 주요 화학사고 발생 키워드를 시각적으로 확인할 수 있는 대시보드를 구축하고, 여기에 챗봇 시스템을 연동했다. 사용자는 좌측 사이드바에 사업장의 주요 특징을 입력한 뒤 ‘설정 완료’ 버튼을 누르면, 앞서 분석한 키워드 정보와 입력된 사업장 데이터를 바탕으로 챗봇이 해당 사업장에서 주의 해야 할 위험 요소를 자연어로 설명해 제공한다.

[챗봇 사용 링크](https://envcontest.streamlit.app)

---
### 활용 및 기대효과
**1. 사업장 자체 활용 효과**

(1) 사업장이 스스로 시스템을 활용하여 사고 전 위험요소를 사전 파악할 수 있음 (2) 계절별 키워드와 유사사례 기반 경고로 사전 조치 가능

(3) 정부 주도 점검 방식에서 벗어나 자율적 안전관리 체계 구축 가능

(4) 사업장 특수성을 반영한 맞춤형 진단으로 정형화된 교육·점검의 한계 보완 (5) 중소기업 및 전문 인력 부족 사업장에 특히 실효성 기대

**2. 정책 반영 시 효과**

(1) 정부 정책의 실효성 향상 및 사회적 비용 절감에 기여

(2) 최근 5년간 연평균 90건 이상 화학사고 발생

(3) 이 중 약 15%는 사망·중상 등 인명피해 사고

(4) 시스템을 통해 사고 발생률 10% 감소 시, 연간 약 9건의 사고 예방 가능

**3. 국민 체감형 기능**

(1) 자가진단 기능과 챗봇 기반 예측 기능 제공

(2) 국민이 사고 위험을 인지하고 자율적으로 대응할 수 있도록 지원 (3) 국민 편의성 및 신뢰도 향상 기대

**4. 행정적 활용 가치**

(1) 연간 6,000건 이상 제출되는 「화학사고 예방관리계획서」의 작성 시간 단축 및 검토 효율 향상

(2) 시스템의 위험도 분석 결과를 지도점검 대상 선정에 활용할 경우   → 행정 자원 배분 효율성 20~30% 이상 개선 가능
 

